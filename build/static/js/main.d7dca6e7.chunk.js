(this["webpackJsonpca-react"]=this["webpackJsonpca-react"]||[]).push([[0],{21:function(e,t,c){},22:function(e,t,c){},23:function(e,t,c){},33:function(e,t,c){"use strict";c.r(t);var n=c(1),s=c.n(n),a=c(14),r=c.n(a),j=(c(21),c(2)),i=(c.p,c(22),c(23),c(0));function o(e){var t="",c="",s="",a="",r=Object(n.useState)(t),o=Object(j.a)(r,2),l=o[0],b=o[1],d=Object(n.useState)(c),u=Object(j.a)(d,2),h=u[0],O=u[1],x=Object(n.useState)(s),f=Object(j.a)(x,2),m=f[0],p=f[1],g=Object(n.useState)(a),v=Object(j.a)(g,2),S=v[0],w=v[1];return Object(i.jsxs)("div",{className:"col-xs-1",align:"center",children:[Object(i.jsx)("h2",{children:"NewRace"}),Object(i.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:l,date:h,time:m,location:S})};fetch("https://www.mathias-filten-borg.dk/3.semesterEksamen/api/RaceCarInfo/newRace",t)},children:[Object(i.jsxs)("label",{children:["Race Name:",Object(i.jsx)("br",{}),Object(i.jsx)("input",{type:"text",name:"name",value:l,onChange:function(e){b(e.target.value)}}),Object(i.jsx)("br",{}),"Date:",Object(i.jsx)("br",{}),Object(i.jsx)("input",{type:"text",name:"date",value:h,onChange:function(e){O(e.target.value)}}),Object(i.jsx)("br",{}),"Time:",Object(i.jsx)("br",{}),Object(i.jsx)("input",{type:"text",name:"Time",value:m,onChange:function(e){p(e.target.value)}}),Object(i.jsx)("br",{}),"Location:",Object(i.jsx)("br",{}),Object(i.jsx)("input",{type:"text",name:"date",value:S,onChange:function(e){w(e.target.value)}})]}),Object(i.jsx)("br",{}),Object(i.jsx)("br",{}),Object(i.jsx)("button",{type:"submit",children:"Create Race"})]})]})}function l(e){var t=Object(n.useState)([]),c=Object(j.a)(t,2),s=c[0],a=c[1],r=Object(n.useState)(""),o=Object(j.a)(r,2),l=o[0],b=o[1],d=Object(n.useState)(!1),u=Object(j.a)(d,2);u[0],u[1];return Object(i.jsxs)("div",{className:"col-xs-1",align:"center",children:[Object(i.jsx)("h2",{children:"See Cars Participating in race based on race ID number"}),Object(i.jsxs)("form",{onSubmit:function(e){e.preventDefault(),fetch("https://www.mathias-filten-borg.dk/3.semesterEksamen/api/RaceCarInfo/carsFromRace/".concat(l)).then((function(e){return e.json()})).then((function(e){var t=[];e.all.forEach((function(e){var c={name:e.name,brand:e.brand,model:e.model,year:e.year};console.log(c),t.push(c)})),a(t)}))},children:[Object(i.jsxs)("label",{children:["Race ID:",Object(i.jsx)("br",{}),Object(i.jsx)("input",{type:"text",name:"rid",value:l,onChange:function(e){b(e.target.value)}})]}),Object(i.jsx)("br",{}),Object(i.jsx)("br",{}),Object(i.jsx)("button",{type:"submit",children:"See Cars"})]}),Object(i.jsxs)("table",{className:"table",children:[Object(i.jsx)("thead",{children:Object(i.jsxs)("tr",{children:[Object(i.jsx)("th",{scope:"col",children:"Name"}),Object(i.jsx)("th",{scope:"col",children:"Brand"}),Object(i.jsx)("th",{scope:"col",children:"Model"}),Object(i.jsx)("th",{scope:"col",children:"Year"})]})}),Object(i.jsx)("tbody",{children:s.map((function(e){return Object(i.jsxs)("tr",{children:[Object(i.jsx)("td",{children:e.name}),Object(i.jsx)("td",{children:e.brand}),Object(i.jsx)("td",{children:e.model}),Object(i.jsx)("td",{children:e.year})]})}))})]})]})}var b=c(8),d=c(11);function u(e){var t=e.facade,c=e.setLoggedIn,s=e.setErrorMessage,a=e.logout,r=e.loggedIn,o=(e.loggedInUser,e.setLoggedInUser),l={username:"",password:""},u=Object(n.useState)(l),h=Object(j.a)(u,2),O=h[0],x=h[1],f=function(e){x(Object(d.a)(Object(d.a)({},O),{},Object(b.a)({},e.target.name,e.target.value)))};return Object(i.jsxs)("div",{className:"col-xs-1",align:"center",children:[Object(i.jsx)("h2",{children:"Home"}),!r&&Object(i.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t.login(O.username,O.password,c,s),o(O.username),x(l)},children:[Object(i.jsxs)("label",{children:["User Name:",Object(i.jsx)("br",{}),Object(i.jsx)("input",{type:"text",name:"username",value:O.username,onChange:f}),Object(i.jsx)("br",{}),"Password:",Object(i.jsx)("br",{}),Object(i.jsx)("input",{type:"text",name:"password",value:O.password,onChange:f})]}),Object(i.jsx)("br",{}),Object(i.jsx)("br",{}),Object(i.jsx)("button",{type:"submit",children:"Login"})]}),Object(i.jsxs)("p",{children:["Role: ",t.getUserRoles()]}),Object(i.jsx)("button",{onClick:a,children:"Logout"})]})}var h=function(e){return Object(i.jsxs)("div",{children:[Object(i.jsx)("h2",{children:"Bored?"}),Object(i.jsx)("p",{children:e.activity}),Object(i.jsx)("p",{children:e.type})]})},O=function(e){return Object(i.jsxs)("div",{children:[Object(i.jsx)("h2",{children:"Cat"}),Object(i.jsx)("p",{children:e.fact})]})},x=function(e){return Object(i.jsxs)("div",{children:[Object(i.jsx)("h2",{children:"Dog"}),Object(i.jsx)("p",{children:e.message})]})};var f=function(e){var t=Object(n.useState)(""),c=Object(j.a)(t,2),s=c[0],a=c[1],r=Object(n.useState)(""),o=Object(j.a)(r,2),l=o[0],b=o[1],d=Object(n.useState)(""),u=Object(j.a)(d,2),h=u[0],O=u[1];return Object(i.jsxs)("div",{children:[Object(i.jsx)("h2",{children:"Genderize"}),Object(i.jsxs)("form",{onSubmit:function(e){e.preventDefault(),fetch("https://api.genderize.io/?name="+s).then((function(e){return e.json()})).then((function(e){console.log(e),b(e.gender),O(e.probability)}))},children:[Object(i.jsxs)("label",{children:["Name:",Object(i.jsx)("input",{type:"text",name:"name",value:s,onChange:function(e){console.log(e.target.value),a(e.target.value)}})]}),Object(i.jsx)("button",{type:"submit",children:"Submit"})]}),Object(i.jsx)("p",{children:s}),Object(i.jsx)("p",{children:l}),Object(i.jsx)("p",{children:h})]})};function m(e){var t=Object(n.useState)([]),c=Object(j.a)(t,2),s=c[0],a=c[1];return Object(n.useEffect)((function(){fetch("https://www.mathias-filten-borg.dk/3.semesterEksamen/api/RaceCarInfo/Races").then((function(e){return e.json()})).then((function(e){var t=[];e.forEach((function(e){var c={name:e.name,date:e.date,time:e.time,location:e.location};t.push(c)})),a(t)}))}),[]),Object(i.jsx)("div",{children:Object(i.jsxs)("table",{className:"table",children:[Object(i.jsx)("thead",{children:Object(i.jsxs)("tr",{children:[Object(i.jsx)("th",{scope:"col",children:"Name"}),Object(i.jsx)("th",{scope:"col",children:"Date"}),Object(i.jsx)("th",{scope:"col",children:"Time"}),Object(i.jsx)("th",{scope:"col",children:"Location"})]})}),Object(i.jsx)("tbody",{children:s.map((function(e){return Object(i.jsxs)("tr",{children:[Object(i.jsx)("td",{children:e.name}),Object(i.jsx)("td",{children:e.date}),Object(i.jsx)("td",{children:e.time}),Object(i.jsx)("td",{children:e.location})]},e.name)}))})]})},s)}var p="https://www.mathias-filten-borg.dk/3.semesterEksamen";function g(e){return e.ok?e.json():Promise.reject({status:e.status,fullError:e.json()})}var v=function(){var e=function(e){localStorage.setItem("jwtToken",e)},t=function(){return localStorage.getItem("jwtToken")},c=function(){var e=null!=t();return e},n=function(){if(null!=t()){var e=t().split(".")[1];return JSON.parse(window.atob(e)).roles}return""},s=function(e,n,s){var a={method:e,headers:{"Content-type":"application/json",Accept:"application/json"}};return n&&c()&&(a.headers["x-access-token"]=t()),s&&(a.body=JSON.stringify(s)),a};return{makeOptions:s,fetchData:function(e,t,c){var n=s("GET",!0);return fetch(p+"/api/"+e,n).then(g).then((function(e){return t(e)})).catch((function(e){e.status?(console.log(e),e.fullError.then((function(e){return c(e.code+": "+e.message)}))):c("Network error")}))},setToken:e,getToken:t,loggedIn:c,login:function(t,c,n,a){var r=s("POST",!0,{username:t,password:c});return fetch(p+"/api/login",r).then(g).then((function(t){e(t.token),n(!0),a("Logged in")})).catch((function(e){e.status?e.fullError.then((function(e){return a(e.code+": "+e.message)})):a("Network error")}))},logout:function(){localStorage.removeItem("jwtToken")},getUserRoles:n,hasUserAccess:function(e,t){var c=n().split(",");return t&&c.includes(e)}}}(),S=c(6),w=c(3);function C(){var e=Object(n.useState)(""),t=Object(j.a)(e,2),c=t[0],s=t[1],a=Object(n.useState)(""),r=Object(j.a)(a,2),b=r[0],d=r[1],p=Object(n.useState)(""),g=Object(j.a)(p,2),C=g[0],y=g[1],N=Object(n.useState)(""),k=Object(j.a)(N,2),R=k[0],I=k[1],E=Object(n.useState)(!1),T=Object(j.a)(E,2),D=T[0],L=T[1],U=Object(n.useState)(""),A=Object(j.a)(U,2),F=A[0],P=A[1],z=Object(n.useState)("All is good ... so far"),B=Object(j.a)(z,2),J=(B[0],B[1]);return Object(n.useEffect)((function(){fetch("https://www.boredapi.com/api/activity").then((function(e){return e.json()})).then((function(e){return s(e.activity),d(e.type)}))}),[]),Object(n.useEffect)((function(){fetch("https://catfact.ninja/fact").then((function(e){return e.json()})).then((function(e){return y(e.fact)}))}),[]),Object(n.useEffect)((function(){fetch("https://dog.ceo/api/breeds/image/random").then((function(e){return e.json()})).then((function(e){return I(e.message)}))}),[]),Object(i.jsx)(S.a,{children:Object(i.jsxs)("div",{children:[Object(i.jsxs)("ul",{className:"header",children:[Object(i.jsx)("li",{children:Object(i.jsx)(S.b,{exact:!0,activeClassName:"selected",to:"/",children:"Home"})}),Object(i.jsx)("li",{children:Object(i.jsx)(S.b,{exact:!0,activeClassName:"selected",to:"/bored",children:"Bored"})}),Object(i.jsx)("li",{children:Object(i.jsx)(S.b,{exact:!0,activeClassName:"selected",to:"/cat",children:"Cat"})}),Object(i.jsx)("li",{children:Object(i.jsx)(S.b,{exact:!0,activeClassName:"selected",to:"/dog",children:"Dog"})}),Object(i.jsx)("li",{children:Object(i.jsx)(S.b,{exact:!0,activeClassName:"selected",to:"/genderize",children:"Genderize"})}),Object(i.jsx)("li",{children:Object(i.jsx)(S.b,{exact:!0,activeClassName:"selected",to:"/AllRaces",children:"AllRaces"})}),Object(i.jsx)("li",{children:Object(i.jsx)(S.b,{exact:!0,activeClassName:"selected",to:"/NewRace",children:"NewRace"})}),Object(i.jsx)("li",{children:Object(i.jsx)(S.b,{exact:!0,activeClassName:"selected",to:"/CarsFromRace",children:"CarsFromRace"})})]}),Object(i.jsx)("hr",{}),Object(i.jsx)("div",{className:"content",children:Object(i.jsxs)(w.c,{children:[Object(i.jsx)(w.a,{exact:!0,path:"/",children:Object(i.jsx)(u,{logout:function(){v.logout(),L(!1),J("Logged out.")},loggedIn:D,setLoggedIn:L,facade:v,setErrorMessage:J,loggedInUser:F,setLoggedInUser:P})}),Object(i.jsx)(w.a,{path:"/bored",children:v.hasUserAccess("user",D)&&Object(i.jsx)(h,{facade:v,setErrorMessage:J,activity:c,type:b})}),Object(i.jsx)(w.a,{path:"/cat",children:Object(i.jsx)(O,{fact:C})}),Object(i.jsx)(w.a,{path:"/dog",children:Object(i.jsx)(x,{message:R})}),Object(i.jsx)(w.a,{path:"/genderize",children:Object(i.jsx)(f,{})}),Object(i.jsx)(w.a,{path:"/AllRaces",children:v.hasUserAccess("user",D)&&Object(i.jsx)(m,{})}),Object(i.jsx)(w.a,{path:"/NewRace",children:v.hasUserAccess("admin",D)&&Object(i.jsx)(o,{})}),Object(i.jsx)(w.a,{path:"/CarsFromRace",children:v.hasUserAccess("user",D)&&Object(i.jsx)(l,{})})]})})]})})}var y=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,34)).then((function(t){var c=t.getCLS,n=t.getFID,s=t.getFCP,a=t.getLCP,r=t.getTTFB;c(e),n(e),s(e),a(e),r(e)}))};r.a.render(Object(i.jsx)(s.a.StrictMode,{children:Object(i.jsx)(C,{})}),document.getElementById("root")),y()}},[[33,1,2]]]);
//# sourceMappingURL=main.d7dca6e7.chunk.js.map